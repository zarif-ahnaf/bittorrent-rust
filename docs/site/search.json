{"config":{"separator":"[\\s\\-_,:!=\\[\\]()\\\\\"`/]+|\\.(?!\\d)"},"items":[{"location":"","level":1,"title":"Get started","text":"","path":["Get started"],"tags":[]},{"location":"architecture/","level":1,"title":"Architecture","text":"","path":["Architecture"],"tags":[]},{"location":"architecture/#encoder","level":2,"title":"Encoder","text":"<p>Our current encoder is based on tagged-union type dispatch via pattern matching</p> <pre><code>flowchart TD\n    A[\"Start encode_bencode(value)\"] --&gt; B{\"BencodeValue type?\"}\n\n    B -- \"Int(n)\" --&gt; C1[\"Call encode_integer(n)\"]\n    C1 --&gt; D1[\"Return Vec&lt;u8&gt; of integer\"]\n\n    B -- \"Str(s)\" --&gt; C2[\"Call encode_string(s)\"]\n    C2 --&gt; D2[\"Return Vec&lt;u8&gt; of string\"]\n\n    B -- \"List(l)\" --&gt; C3[\"Call encode_list(l) (recursively encodes elements)\"]\n    C3 --&gt; D3[\"Return Vec&lt;u8&gt; of concatenated list elements with 'l'...'e'\"]\n\n    B -- \"Dict(d)\" --&gt; C4[\"Call encode_dict(d) (recursively encodes keys &amp; values)\"]\n    C4 --&gt; D4[\"Return Vec&lt;u8&gt; of dictionary with 'd'...'e'\"]\n</code></pre>","path":["Architecture"],"tags":[]},{"location":"architecture/#decoder","level":2,"title":"Decoder","text":"<p>Our current architecture is based on recursive-descent parser</p> <pre><code>flowchart TD\n    A[\"Start decode_bencode(data)\"] --&gt; B{\"Is data empty?\"}\n    B -- \"Yes\" --&gt; C1[\"Return Err('Empty input')\"]\n    B -- \"No\" --&gt; D[\"Check first byte\"]\n\n    D --&gt; E1{\"First byte type?\"}\n    E1 -- \"Digit\" --&gt; F1[\"Call decode_string(data)\"]\n    F1 --&gt; G1[\"Wrap as BencodeValue::Str\"]\n    G1 --&gt; H1[\"Return (Str, rest)\"]\n\n    E1 -- \"i\" --&gt; F2[\"Call decode_integer(data)\"]\n    F2 --&gt; G2[\"Wrap as BencodeValue::Int\"]\n    G2 --&gt; H2[\"Return (Int, rest)\"]\n\n    E1 -- \"l\" --&gt; F3[\"Call decode_list(data)\"]\n    F3 --&gt; G3[\"Wrap as BencodeValue::List\"]\n    G3 --&gt; H3[\"Return (List, rest)\"]\n\n    E1 -- \"d\" --&gt; F4[\"Call decode_dictionary(data)\"]\n    F4 --&gt; G4[\"Wrap as BencodeValue::Dict\"]\n    G4 --&gt; H4[\"Return (Dict, rest)\"]\n\n    %% E1 -- \"Other\" --&gt; C2[\"Return Err('Unknown type prefix')\"]\n\n</code></pre>","path":["Architecture"],"tags":[]}]}